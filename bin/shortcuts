#!/bin/bash
#
# This outputs all aliases of a certain folder within the dotfiles

if [[ $# -eq 0 ]]; then
  echo "Usage: $0 <folder-name>"
  echo "Example: $0 git"
  exit 1
fi

DOTFILES_DIR="${DOTFILES:-$HOME/.dotfiles}"
TARGET_DIR="$DOTFILES_DIR/$1"

if [[ ! -d "$TARGET_DIR" ]]; then
  echo "Error: Directory '$TARGET_DIR' not found"
  exit 1
fi

echo "=== Aliases from $1 ==="
find "$TARGET_DIR" -type f -name 'aliases.zsh' -print0 | \
while IFS= read -r -d '' file; do
  if [[ -s "$file" ]]; then
    echo "# From: $file"
    cat "$file"
    echo
  fi
done
